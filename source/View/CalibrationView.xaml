<UserControl x:Class="iMS_Studio.View.CalibrationView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:iMS_Studio.View"
             xmlns:vc="clr-namespace:iMS_Studio.ValueConverters"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <UserControl.Resources>
        <ResourceDictionary>
            <vc:BoolToBrushConverter x:Key="TransparentFalseBrushConverter" FalseColor="Transparent">
                <vc:BoolToBrushConverter.TrueColor>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="White" Offset="0"/>
                        <GradientStop Color="Red" Offset="1"/>
                    </LinearGradientBrush>
                </vc:BoolToBrushConverter.TrueColor>
            </vc:BoolToBrushConverter>
            <vc:BoolToStringConverter x:Key="BoolToEnDisStringConverter" TrueString="ENABLED" FalseString="DISABLED"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="40" />
            <RowDefinition Height="60" />
        </Grid.RowDefinitions>
        <DockPanel Grid.Column="0" Grid.Row="0" HorizontalAlignment="Center" Margin="0">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">
                <TextBox Text="{Binding ElementName=STMFreqSlider, Path=Value, UpdateSourceTrigger=Default, StringFormat={}{0:f2}}" TextAlignment="Right" Width="45" />
                <TextBlock Text="MHz" VerticalAlignment="Center" Margin="2"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Bottom">
                <Slider Orientation="Vertical" Minimum="{Binding MinFrequency}" Maximum="{Binding MaxFrequency}" 
                        TickPlacement="BottomRight" TickFrequency="10" Name="STMFreqSlider" Value="{Binding Path=STMFreq}"/>
                <TextBlock Text="Frequency" FontSize="14" VerticalAlignment="Bottom">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <RotateTransform Angle="-90"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>
            </StackPanel>
        </DockPanel>
        <DockPanel Grid.Column="1" Grid.Row="0" HorizontalAlignment="Center" Margin="0">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">
                <TextBox Text="{Binding ElementName=STMAmplSlider, Path=Value, UpdateSourceTrigger=Default, StringFormat={}{0:f1}}" TextAlignment="Right" Width="45" />
                <TextBlock Text="%" VerticalAlignment="Center" Margin="2"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Bottom">
                <Slider Orientation="Vertical" Maximum="100" TickPlacement="BottomRight" TickFrequency="10" Name="STMAmplSlider" Value="{Binding Path=STMAmpl}" />
                <TextBlock Text="Amplitude" FontSize="14" VerticalAlignment="Bottom">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <RotateTransform Angle="-90"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>
            </StackPanel>
        </DockPanel>
        <DockPanel Grid.Column="2" Grid.Row="0" HorizontalAlignment="Center" Margin="0">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Top">
                <TextBox Text="{Binding ElementName=STMPhaseSlider, Path=Value, UpdateSourceTrigger=Default, StringFormat={}{0:f1}}" TextAlignment="Right" Width="45" />
                <TextBlock Text="deg" VerticalAlignment="Center" Margin="2"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Bottom">
                <Slider Orientation="Vertical" Maximum="179.9" Minimum="-180.0" TickPlacement="BottomRight" TickFrequency="20" Name="STMPhaseSlider" Value="{Binding Path=STMPhase}"/>
                <TextBlock Text="Phase" FontSize="14" VerticalAlignment="Bottom">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <RotateTransform Angle="-90"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>
            </StackPanel>
        </DockPanel>
        <Grid Grid.Row="1" Grid.ColumnSpan="3" >
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="HOLD" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Column="0" Grid.Row="0">
            </TextBlock>
            <Button Grid.Column="1" Grid.Row="0" Style="{StaticResource ButtonWithNoHover}" Margin="4" MinWidth="12" MinHeight="20" Command="{Binding Path=STMHoldCh1Cmd}"
                            Background="{Binding Path=STMHoldCh1, Converter={StaticResource TransparentFalseBrushConverter}}" >
                <Button.Content>
                    <TextBlock Text="1" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                </Button.Content>
            </Button>
            <Button Grid.Column="2" Grid.Row="0" Style="{StaticResource ButtonWithNoHover}" Margin="4" MinWidth="12" MinHeight="20" Command="{Binding Path=STMHoldCh2Cmd}"
                            Background="{Binding Path=STMHoldCh2, Converter={StaticResource TransparentFalseBrushConverter}}" >
                <Button.Content>
                    <TextBlock Text="2" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                </Button.Content>
            </Button>
            <Button Grid.Column="3" Grid.Row="0" Style="{StaticResource ButtonWithNoHover}" Margin="4" MinWidth="12" MinHeight="20" Command="{Binding Path=STMHoldCh3Cmd}"
                            Background="{Binding Path=STMHoldCh3, Converter={StaticResource TransparentFalseBrushConverter}}" >
                <Button.Content>
                    <TextBlock Text="3" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                </Button.Content>
            </Button>
            <Button Grid.Column="4" Grid.Row="0" Style="{StaticResource ButtonWithNoHover}" Margin="4" MinWidth="12" MinHeight="20" Command="{Binding Path=STMHoldCh4Cmd}"
                            Background="{Binding Path=STMHoldCh4, Converter={StaticResource TransparentFalseBrushConverter}}"  >
                <Button.Content>
                    <TextBlock Text="4" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                </Button.Content>
            </Button>
        </Grid>
        <Button Style="{StaticResource ButtonWithNoHover}" Grid.Row="2" Grid.ColumnSpan="3" Margin="8" MinHeight="30" Command="{Binding Path=STMEnableCmd}"
                            Background="{Binding Path=STMEnable, Converter={StaticResource RedGrnGradBrushConverter}}" 
                            Opacity="{Binding Path=STMUnlocked, Converter={StaticResource BoolToOpacityConverter}}">
            <Button.Content>
                <TextBlock Text="{Binding Path=STMEnable, Converter={StaticResource BoolToEnDisStringConverter}}" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
            </Button.Content>
        </Button>
    </Grid>
</UserControl>
