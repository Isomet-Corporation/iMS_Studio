<UserControl x:Class="iMS_Studio.View.SysFuncView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vc="clr-namespace:iMS_Studio.ValueConverters"
             xmlns:xctk="clr-namespace:Xceed.Wpf.Toolkit;assembly=DotNetProjects.Wpf.Extended.Toolkit"
             mc:Ignorable="d" 
             d:DesignHeight="750" d:DesignWidth="250">
    <UserControl.Resources>
        <ResourceDictionary>
            <vc:BoolToStringConverter x:Key="BoolToEnDisStringConverter" TrueString="ENABLED" FalseString="DISABLED"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="250" />
            <RowDefinition Height="160" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <GroupBox Grid.Column="0" Grid.Row="0" Header="Internal Clock Generator" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0">
            <StackPanel Margin="8">
                <TextBlock Text="Clock Frequency" FontSize="11"/>
                <Slider Orientation="Horizontal" Value="{Binding ClockFreq}" Name="clockFreqSlider" Margin="5"
                        Minimum="{Binding MinImageRate}" Maximum="{Binding MaxImageRate}" TickFrequency="100.0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <xctk:DoubleUpDown Value="{Binding ElementName=clockFreqSlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Minimum="{Binding MinImageRate}" Maximum="{Binding MaxImageRate}" Increment="0.01" Width="Auto" Margin="5,3,7,3" HorizontalAlignment="Stretch" Grid.Column ="0" FormatString="F2"/>
                    <TextBlock Text="kHz" Width="20" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                </Grid>
                <TextBlock Text="Duty Cycle" FontSize="11"/>
                <Slider Orientation="Horizontal" Value="{Binding DutyCycle}" Name="dutyCycleSlider" Margin="5"
                        Minimum="1.0" Maximum="99.0" TickFrequency="10.0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <xctk:DoubleUpDown Value="{Binding ElementName=dutyCycleSlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Minimum="1.0" Maximum="99.0" Increment="0.1" Width="Auto" Margin="5,3,7,3" HorizontalAlignment="Stretch" Grid.Column ="0" FormatString="F1"/>
                    <TextBlock Text="%" Width="20" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                </Grid>
                <TextBlock Text="Clock --- RF Phase" FontSize="11"/>
                <Slider Orientation="Horizontal" Value="{Binding OscPhase}" Name="oscPhaseSlider" Margin="5"
                        Minimum="0.0" Maximum="359.9" TickFrequency="10.0"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <xctk:DoubleUpDown Value="{Binding ElementName=oscPhaseSlider, Path=Value, UpdateSourceTrigger=PropertyChanged}"
                                    Minimum="0.0" Maximum="359.0" Increment="0.1" Width="Auto" Margin="5,3,7,3" HorizontalAlignment="Stretch" Grid.Column ="0" FormatString="F1"/>
                    <TextBlock Text="deg" Width="20" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                </Grid>
            </StackPanel>
        </GroupBox>
        <GroupBox Grid.Column="0" Grid.Row="1" Header="Options" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="0">
            <StackPanel Margin="8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="7*" />
                        <ColumnDefinition Width="4*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Clock Polarity:" Margin="5,7,10,5" FontSize="11"/>
                    <CheckBox Grid.Row="0" Grid.Column="1" Margin="15,8,0,5" IsChecked="{Binding ClockPolarity}" Name="ClockPolarityBox" >
                        Invert
                    </CheckBox>
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Trigger Polarity:" Margin="5,7,10,5" FontSize="11"/>
                    <CheckBox Grid.Row="1" Grid.Column="1" Margin="15,8,0,5" IsChecked="{Binding TrigPolarity}" Name="TrigPolarityBox">
                        Invert
                    </CheckBox>
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Continuous (Always On):" Margin="5,7,10,5" FontSize="11"/>
                    <CheckBox Grid.Row="2" Grid.Column="1" Margin="15,8,0,5" IsChecked="{Binding AlwaysOn}" Name="AlwaysOnBox" />
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Generate Trigger Pulse:" Margin="5,7,10,5" FontSize="11"/>
                    <CheckBox Grid.Row="3" Grid.Column="1" Margin="15,8,0,5" IsChecked="{Binding GenerateTrigger}" Name="GenerateTriggerBox" />
                </Grid>
                
            </StackPanel>
        </GroupBox>
        <Button Style="{StaticResource ButtonWithNoHover}" Grid.Row="2" Grid.Column="0" Margin="8" MinHeight="30" MaxHeight="70" Command="{Binding Path=ClockGenEnableCmd}"
                            Background="{Binding Path=ClockGenEnable, Converter={StaticResource RedGrnGradBrushConverter}}" >
            <Button.Content>
                <TextBlock Text="{Binding Path=ClockGenEnable, Converter={StaticResource BoolToEnDisStringConverter}}" FontSize="16" FontWeight="SemiBold" HorizontalAlignment="Center"/>
            </Button.Content>
        </Button>
    </Grid>
</UserControl>
